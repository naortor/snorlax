!function(t){"use strict";function e(t){for(;l&&o.length;){if(!(o[0].top-s.threshold<t))return;r(o[0]),o.shift()}}function r(t){var e;"img"===t.type?(e=new Image,e.src=t.src,e.alt=t.alt,e.setAttribute("class","snorlax-loaded")):(e=document.createElement("iframe"),e.src=t.src),e.setAttribute("class",t.el.getAttribute("class").replace(s.cssClassPrefix,s.cssClassPrefix+"-loaded")),t.el.parentNode.insertBefore(e,t.el),t.el.parentNode.removeChild(t.el)}function n(){return document.body.scrollTop+t.innerHeight}var o=[],s={threshold:400,attrPrefix:"data-snorlax",cssClassPrefix:"snorlax",loadDelta:1e3,event:"scroll"},l=!0;t.Snorlax=function(r){r&&this.refreshConfig(r),o=[].slice.call(document.getElementsByClassName(s.cssClassPrefix)).map(function(t){return{el:t,top:t.getBoundingClientRect().top,src:t.getAttribute(s.attrPrefix+"-src"),alt:t.getAttribute(s.attrPrefix+"-alt"),type:/^https?:\/\/(?:[a-z\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpe?g|gif|png)$/.test(t.getAttribute(s.attrPrefix+"-src"))?"img":"iframe"}});var l=n();t.addEventListener("scroll",function(){var t=n();t+s.loadDelta<l||(l=t,e(t))}),e(l)},t.Snorlax.prototype.loadAll=function(){for(;o.length;)r(o[0=0;r<e.length;r++)s[e[r]]=t[e[r]]},t.Snorlax.prototype.start=function(){l=!0},t.Snorlax.prototype.stop=function(){l=!1}}(window);