!function(t){"use strict";function e(t){for(;l.length;){if(!(l[0].top-n.threshold<t))return;r(l[0]),l.shift()}}function r(t){var e;"img"===t.type?(e=new Image,e.src=t.src,e.alt=t.alt,e.setAttribute("class","snorlax-loaded")):(e=document.createElement("iframe"),e.src=t.src),e.setAttribute("class",t.el.getAttribute("class").replace(n.cssClassPrefix,n.cssClassPrefix+"-loaded")),t.el.parentNode.insertBefore(e,t.el),t.el.parentNode.removeChild(t.el)}function s(){return document.body.scrollTop+t.innerHeight}var l=[],n={threshold:400,attrPrefix:"data-snorlax",cssClassPrefix:"snorlax",loadDelta:1e3,event:"scroll"};t.Snorlax=function(r){r&&this.refreshConfig(r),l=[].slice.call(document.getElementsByClassName(n.cssClassPrefix)).map(function(t){return{el:t,top:t.getBoundingClientRect().top,src:t.getAttribute(n.attrPrefix+"-src"),alt:t.getAttribute(n.attrPrefix+"-alt"),type:/^https?:\/\/(?:[a-z\-]+\.)+[a-z]{2,6}(?:\/[^\/#?]+)+\.(?:jpe?g|gif|png)$/.test(t.getAttribute(n.attrPrefix+"-src"))?"img":"iframe"}});var a=s();t.addEventListener("scroll",function(){var t=s();t+n.loadDelta<a||(a=t,e(t))}),e(a)},t.Snorlax.prototype.loadAll=function(){for(;l.length;)r(l[0]),l.shift()},t.Snorlax.prototype.refreshConfig=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)n[e[r]]=t[e[r]]}}(window);